local M = {}

--Load all quests here, store then in maps, arrays could be more optimal but im lazy
local quests = {
    main={
        { --Stage 1
            name='1 Mediators',
            picture={
                type='bust',
                imageName='Bust_FH_015_01',
                frame=1
            },
            floors={
                { --Floor 1
                    terrain=23,
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }, 
                            { --Actor
                                icon=90,
                                name='Lily',
                                description='Recruit Lily',
                                category=nil,
                                id=5,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 2
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=1,
                        type='standard',
                        waves={ 1, 3 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=5,
                            party=20
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 3
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=1,
                        type='standard',
                        waves={ 2, 4 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=5,
                            party=20
                        },
                        general={}
                    },
                    postBattle=true
                }, 
                { --Floor 4
                    terrain=6,
                    requirePrevious=true,
                    enemies={
                        level=3,
                        type='standard',
                        waves={ 82, 83, 87 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=15,
                            party=60
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 5
                    terrain=6,
                    requirePrevious=true,
                    enemies={
                        level=3,
                        type='standard',
                        waves={ 81, 84, 86 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=15,
                            party=60
                        },
                        general={}
                    }
                }, 
                { --Floor 6
                    terrain=6,
                    requirePrevious=true,
                    enemies={
                        level=3,
                        type='standard',
                        waves={ 80, 85, 88 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=15,
                            party=60
                        },
                        general={}
                    },
                    postBattle=true
                }, 
                { --Floor 7
                    terrain=11,
                    requirePrevious=true,
                    enemies={
                        level=5,
                        type='standard',
                        waves={ 155, 158, 161 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=25,
                            party=100
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
                { --Floor 8
                    terrain=11,
                    requirePrevious=true,
                    enemies={
                        level=6,
                        type='standard',
                        waves={ 185, 188, 163 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=30,
                            party=120
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 9
                    terrain=11,
                    requirePrevious=true,
                    enemies={
                        level=6,
                        type='standard',
                        waves={ 156, 189, 162 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=30,
                            party=120
                        },
                        general={}
                    }
                }, 
                { --Floor 10
                    terrain=11,
                    requirePrevious=true,
                    enemies={
                        level=7,
                        type='standard',
                        waves={ 186, 191, 161 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=35,
                            party=140
                        },
                        general={}
                    }
                }, 
                { --Floor 11
                    terrain=11,
                    requirePrevious=true,
                    enemies={
                        level=7,
                        type='standard',
                        waves={ 157, 159, 163 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=35,
                            party=140
                        },
                        general={}
                    },
                    postBattle=true
                }, 
                { --Floor 12
                    terrain=11,
                    requirePrevious=true,
                    enemies={
                        level=8,
                        type='standard',
                        waves={ 190, 193, 200 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=40,
                            party=160
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }
            },
        }, 
        { --Stage 2
            name='2 Aftermath',
            picture={
                type='bust',
                imageName='Bust_FH_014_01',
                frame=1
            },
            requirements={
                quest='main',
                stage=1,
                text='Complete Chapter 1'
            },
            floors={
                { --Floor 1
                    terrain=2,
                    enemies={
                        level=8,
                        type='standard',
                        waves={ 20, 25, 26 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=40,
                            party=160
                        },
                        general={}
                    },
                }, 
                { --Floor 2
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=8,
                        type='standard',
                        waves={ 21, 23, 27  }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=40,
                            party=160
                        },
                        general={}
                    },
                }, 
                { --Floor 3
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=8,
                        type='standard',
                        waves={ 22, 24, 28 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=40,
                            party=160
                        },
                        general={}
                    },
                    postBattle=true
                }, 
                { --Floor 4
                    terrain=13,
                    requirePrevious=true,
                    enemies={
                        level=10,
                        type='standard',
                        waves={ 25, 27, 29 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=50,
                            party=200
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
                { --Floor 5
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=12,
                        type='standard',
                        waves={ 20, 23, 28 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=60,
                            party=240
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 6
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=12,
                        type='standard',
                        waves={ 22, 25, 26 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=60,
                            party=240
                        },
                        general={}
                    },
                }, 
                { --Floor 7
                    terrain=3,
                    requirePrevious=true,
                    enemies={
                        level=13,
                        type='standard',
                        waves={ 36, 39, 42 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=65,
                            party=260
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 8
                    terrain=3,
                    requirePrevious=true,
                    enemies={
                        level=13,
                        type='standard',
                        waves={ 35, 38, 41 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=65,
                            party=260
                        },
                        general={}
                    }
                }, 
                { --Floor 9
                    terrain=3,
                    requirePrevious=true,
                    enemies={
                        level=14,
                        type='standard',
                        waves={ 37, 38, 43 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=70,
                            party=280
                        },
                        general={}
                    }
                }, 
                { --Floor 10
                    terrain=3,
                    requirePrevious=true,
                    enemies={
                        level=14,
                        type='standard',
                        waves={ 35, 40, 42 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=70,
                            party=280
                        },
                        general={}
                    },
                    postBattle=true
                }, 
                { --Floor 11
                    terrain=7,
                    requirePrevious=true,
                    enemies={
                        level=15,
                        type='standard',
                        waves={ 95, 98, 101 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=75,
                            party=300
                        },
                        general={}
                    }
                }, 
                { --Floor 12
                    terrain=7,
                    requirePrevious=true,
                    enemies={
                        level=15,
                        type='standard',
                        waves={ 96, 99, 102 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=75,
                            party=300
                        },
                        general={}
                    },
                    postBattle=true
                }, 
                { --Floor 13
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=16,
                        type='standard',
                        waves={ 20, 24, 28 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=80,
                            party=320
                        },
                        general={}
                    },
                    postBattle=true
                }
            }
        },
        { --Stage 3
            name='3 Honour',
            picture={
                type='bust',
                imageName='Bust_FH_017_01',
                frame=1
            },
            requirements={
                quest='main',
                stage=2,
                text='Complete Chapter 2'
            },
            floors={
                { --Floor 1
                    terrain=1,
                    enemies={
                        level=20,
                        type='standard',
                        waves={ 5, 9, 11 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=100,
                            party=400
                        },
                        general={}
                    },
                    preBattle=true
                },
                { --Floor 2
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=20,
                        type='standard',
                        waves={ 6, 8, 13 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=100,
                            party=400
                        },
                        general={}
                    }
                },
                { --Floor 3
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=21,
                        type='standard',
                        waves={ 7, 10, 12 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=105,
                            party=420
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                },
                { --Floor 4
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=21,
                        type='standard',
                        waves={ 5, 8, 13 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=105,
                            party=420
                        },
                        general={}
                    },
                    preBattle=true
                },
                { --Floor 5
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=21,
                        type='standard',
                        waves={ 6, 9, 12 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=105,
                            party=420
                        },
                        general={}
                    },
                },
                { --Floor 6
                    terrain=14,
                    requirePrevious=true,
                    enemies={
                        level=23,
                        type='standard',
                        waves={ 190, 193, 205 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=115,
                            party=460
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                },
                { --Floor 7
                    terrain=12,
                    requirePrevious=true,
                    enemies={
                        level=24,
                        type='standard',
                        waves={ 170, 173, 176 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=120,
                            party=480
                        },
                        general={}
                    },
                    preBattle=true
                },
                { --Floor 8
                    terrain=12,
                    requirePrevious=true,
                    enemies={
                        level=24,
                        type='standard',
                        waves={ 171, 174, 177 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=120,
                            party=480
                        },
                        general={}
                    }
                },
                { --Floor 9
                    terrain=12,
                    requirePrevious=true,
                    enemies={
                        level=24,
                        type='standard',
                        waves={ 172, 175, 178 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=120,
                            party=480
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 10
                    terrain=12,
                    requirePrevious=true,
                    enemies={
                        level=25,
                        type='standard',
                        waves={ 171, 175, 176 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=125,
                            party=500
                        },
                        general={}
                    },
                    preBattle=true
                },
                { --Floor 11
                    terrain=12,
                    requirePrevious=true,
                    enemies={
                        level=25,
                        type='standard',
                        waves={ 170, 174, 178 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=125,
                            party=500
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 12
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=27,
                        type='standard',
                        waves={ 189, 195, 206 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=135,
                            party=540
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                },
            }
        },
        { --Stage 4
            name='4 Monsters',
            picture={
                type='bust',
                imageName='Bust_FH_002_01',
                frame=1
            },
            requirements={
                quest='main',
                stage=3,
                text='Complete Chapter 3'
            },
            floors={
                { --Floor 1
                    terrain=1,
                    enemies={
                        level=32,
                        type='standard',
                        waves={ 5, 10, 13 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=160,
                            party=640
                        },
                        general={}
                    },
                    preBattle=true
                },
                { --Floor 2
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=32,
                        type='standard',
                        waves={ 7, 8, 12 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=160,
                            party=640
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 3
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=34,
                        type='standard',
                        waves={ 21, 25, 27 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=170,
                            party=680
                        },
                        general={}
                    },
                    preBattle=true
                },
                { --Floor 4
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=34,
                        type='standard',
                        waves={ 20, 23, 26 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=170,
                            party=680
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 5
                    terrain=8,
                    requirePrevious=true,
                    enemies={
                        level=36,
                        type='standard',
                        waves={ 110, 113, 118 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=180,
                            party=720
                        },
                        general={}
                    }
                },
                { --Floor 6
                    terrain=8,
                    requirePrevious=true,
                    enemies={
                        level=36,
                        type='standard',
                        waves={ 111, 114, 117 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=180,
                            party=720
                        },
                        general={}
                    }
                },
                { --Floor 7
                    terrain=8,
                    requirePrevious=true,
                    enemies={
                        level=36,
                        type='standard',
                        waves={ 112, 115, 116 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=180,
                            party=720
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 8
                    terrain=4,
                    requirePrevious=true,
                    enemies={
                        level=38,
                        type='standard',
                        waves={ 52, 55, 58 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=190,
                            party=760
                        },
                        general={}
                    }
                },
                { --Floor 9
                    terrain=4,
                    requirePrevious=true,
                    enemies={
                        level=38,
                        type='standard',
                        waves={ 51, 53, 57 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=190,
                            party=760
                        },
                        general={}
                    }
                },
                { --Floor 10
                    terrain=4,
                    requirePrevious=true,
                    enemies={
                        level=38,
                        type='standard',
                        waves={ 50, 54, 56 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=190,
                            party=760
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 11
                    terrain=4,
                    requirePrevious=true,
                    enemies={
                        level=40,
                        type='standard',
                        waves={ 55, 58, 59 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=200,
                            party=800
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }
            }
        },
        { --Stage 5
            name='5 History',
            picture={
                type='bust',
                imageName='Bust_FH_045_01',
                frame=1
            },
            requirements={
                quest='main',
                stage=4,
                text='Complete Chapter 4'
            },
            floors={
                { --Floor 1
                    terrain=11,
                    enemies={
                        level=42,
                        type='standard',
                        waves={ 157, 160, 163 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=210,
                            party=840
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
                { --Floor 2
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=42,
                        type='standard',
                        waves={ 7, 9, 13 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=210,
                            party=840
                        },
                        general={}
                    }
                }, 
                { --Floor 3
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=42,
                        type='standard',
                        waves={ 22, 24, 27 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=210,
                            party=840
                        },
                        general={}
                    }
                }, 
                { --Floor 4
                    terrain=3,
                    requirePrevious=true,
                    enemies={
                        level=44,
                        type='standard',
                        waves={ 38, 41, 44 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=220,
                            party=880
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
                { --Floor 5
                    terrain=11,
                    requirePrevious=true,
                    enemies={
                        level=45,
                        type='standard',
                        waves={ 156, 160, 163 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=225,
                            party=900
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 6
                    terrain=8,
                    requirePrevious=true,
                    enemies={
                        level=45,
                        type='standard',
                        waves={ 110, 113, 118 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=225,
                            party=900
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 7
                    terrain=8,
                    requirePrevious=true,
                    enemies={
                        level=45,
                        type='standard',
                        waves={ 112, 114, 116 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=225,
                            party=900
                        },
                        general={}
                    }
                }, 
                { --Floor 8
                    terrain=8,
                    requirePrevious=true,
                    enemies={
                        level=47,
                        type='standard',
                        waves={ 115, 117, 119 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=275,
                            party=940
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
                { --Floor 9
                    terrain=6,
                    requirePrevious=true,
                    enemies={
                        level=48,
                        type='standard',
                        waves={ 80, 84, 86 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=300,
                            party=960
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 10
                    terrain=5,
                    requirePrevious=true,
                    enemies={
                        level=48,
                        type='standard',
                        waves={ 65, 68, 73 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=300,
                            party=960
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 11
                    terrain=5,
                    requirePrevious=true,
                    enemies={
                        level=48,
                        type='standard',
                        waves={ 66, 70, 71 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=300,
                            party=960
                        },
                        general={}
                    }
                }, 
                { --Floor 12
                    terrain=5,
                    requirePrevious=true,
                    enemies={
                        level=50,
                        type='standard',
                        waves={ 69, 72, 74 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=310,
                            party=1000
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
                { --Floor 13
                    terrain=9,
                    requirePrevious=true,
                    enemies={
                        level=51,
                        type='standard',
                        waves={ 127, 129, 131 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=315,
                            party=1020
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 14
                    terrain=9,
                    requirePrevious=true,
                    enemies={
                        level=51,
                        type='standard',
                        waves={ 126, 130, 133 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=315,
                            party=1020
                        },
                        general={}
                    }
                }, 
                { --Floor 15
                    terrain=9,
                    requirePrevious=true,
                    enemies={
                        level=53,
                        type='standard',
                        waves={ 128, 132, 134 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=325,
                            party=1060
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
                { --Floor 16
                    terrain=10,
                    requirePrevious=true,
                    enemies={
                        level=55,
                        type='standard',
                        waves={ 143, 147, 210 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=375,
                            party=1100
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }
            }
        },
        { --Stage 6
            name='6 Return',
            picture={
                type='bust',
                imageName='Bust_FH_016_01',
                frame=1
            },
            requirements={
                quest='main',
                stage=5,
                text='Complete Chapter 5'
            },
            floors={
                { --Floor 1
                    terrain=10,
                    enemies={
                        level=54,
                        type='standard',
                        waves={ 140, 143, 146 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=270,
                            party=1080
                        },
                        general={}
                    }
                }, 
                { --Floor 2
                    terrain=10,
                    requirePrevious=true,
                    enemies={
                        level=55,
                        type='standard',
                        waves={ 141, 145, 147 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=275,
                            party=1100
                        },
                        general={}
                    }
                }, 
                { --Floor 3
                    terrain=10,
                    requirePrevious=true,
                    enemies={
                        level=56,
                        type='standard',
                        waves={ 142, 144, 148 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=300,
                            party=1120
                        },
                        general={}
                    }
                }, 
                { --Floor 4
                    terrain=10,
                    requirePrevious=true,
                    enemies={
                        level=57,
                        type='standard',
                        waves={ 141, 144, 146 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=305,
                            party=1140
                        },
                        general={}
                    }
                }, 
                { --Floor 5
                    terrain=10,
                    requirePrevious=true,
                    enemies={
                        level=58,
                        type='standard',
                        waves={ 140, 145, 148 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=310,
                            party=1160
                        },
                        general={}
                    }
                }, 
                { --Floor 6
                    terrain=10,
                    requirePrevious=true,
                    enemies={
                        level=59,
                        type='standard',
                        waves={ 142, 145, 147 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=315,
                            party=1180
                        },
                        general={}
                    },
                    postBattle=true
                }, 
                { --Floor 7
                    terrain=10,
                    requirePrevious=true,
                    enemies={
                        level=60,
                        type='standard',
                        waves={ 144, 146, 215 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=320,
                            party=1200
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
                { --Floor 8
                    terrain=10,
                    requirePrevious=true,
                    enemies={
                        level=60,
                        type='standard',
                        waves={ 143, 148, 216 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=320,
                            party=1200
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }
            }
        },
        { --Stage 7
            name='7 Allies',
            picture={
                type='bust',
                imageName='Bust_FH_065_01',
                frame=1
            },
            requirements={
                quest='main',
                stage=6,
                text='Complete Chapter 6'
            },
            floors={
                { --Floor 1
                    terrain=1,
                    enemies={
                        level=62,
                        type='standard',
                        waves={ 5, 8, 13 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=310,
                            party=1240
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 2
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=62,
                        type='standard',
                        waves={ 6, 9, 11 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=310,
                            party=1240
                        },
                        general={}
                    },
                    postBattle=true
                }, 
                { --Floor 3
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=63,
                        type='standard',
                        waves={ 22, 25, 27 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=315,
                            party=1260
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 4
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=63,
                        type='standard',
                        waves={ 21, 23, 26 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=315,
                            party=1260
                        },
                        general={}
                    }
                }, 
                { --Floor 5
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=63,
                        type='standard',
                        waves={ 22, 24, 28 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=315,
                            party=1260
                        },
                        general={}
                    }
                }, 
                { --Floor 6
                    terrain=7,
                    requirePrevious=true,
                    enemies={
                        level=65,
                        type='standard',
                        waves={ 97, 100, 101 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=325,
                            party=1300
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 7
                    terrain=7,
                    requirePrevious=true,
                    enemies={
                        level=65,
                        type='standard',
                        waves={ 95, 99, 103 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=325,
                            party=1300
                        },
                        general={}
                    }
                }, 
                { --Floor 8
                    terrain=7,
                    requirePrevious=true,
                    enemies={
                        level=66,
                        type='standard',
                        waves={ 97, 100, 101 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=330,
                            party=1320
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 9
                    terrain=7,
                    requirePrevious=true,
                    enemies={
                        level=67,
                        type='standard',
                        waves={ 99, 102, 104 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=335,
                            party=1340
                        },
                        general={}
                    },
                    postBattle=true
                }
            }
        },
        { --Stage 8
            name='8 Amends',
            picture={
                type='bust',
                imageName='Bust_FH_051_01',
                frame=1
            },
            requirements={
                quest='main',
                stage=7,
                text='Complete Chapter 7'
            },
            floors={
                { --Floor 1
                    terrain=12,
                    enemies={
                        level=71,
                        type='standard',
                        waves={ 172, 174, 178 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=355,
                            party=1420
                        },
                        general={}
                    },
                    preBattle=true
                },
                { --Floor 2
                    terrain=6,
                    requirePrevious=true,
                    enemies={
                        level=71,
                        type='standard',
                        waves={ 81, 85, 88 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=355,
                            party=1420
                        },
                        general={}
                    }
                },
                { --Floor 3
                    terrain=5,
                    requirePrevious=true,
                    enemies={
                        level=72,
                        type='standard',
                        waves={ 65, 68, 71 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=360,
                            party=1440
                        },
                        general={}
                    }
                },
                { --Floor 4
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=72,
                        type='standard',
                        waves={ 5, 10, 12 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=360,
                            party=1440
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 5
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=73,
                        type='standard',
                        waves={ 7, 8, 11 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=365,
                            party=1460
                        },
                        general={}
                    },
                    preBattle=true
                },
                { --Floor 6
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=73,
                        type='standard',
                        waves={ 21, 25, 26 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=365,
                            party=1460
                        },
                        general={}
                    }
                },
                { --Floor 7
                    terrain=3,
                    requirePrevious=true,
                    enemies={
                        level=74,
                        type='standard',
                        waves={ 37, 40, 41 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=370,
                            party=1480
                        },
                        general={}
                    }
                },
                { --Floor 8
                    terrain=4,
                    requirePrevious=true,
                    enemies={
                        level=74,
                        type='standard',
                        waves={ 51, 56, 57 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=370,
                            party=1480
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 9
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=75,
                        type='standard',
                        waves={ 20, 23, 27 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=375,
                            party=1500
                        },
                        general={}
                    }
                },
                { --Floor 10
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=75,
                        type='standard',
                        waves={ 6, 9, 13 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=375,
                            party=1500
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                },
                { --Floor 11
                    terrain=8,
                    requirePrevious=true,
                    enemies={
                        level=76,
                        type='standard',
                        waves={ 111, 113, 118 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=380,
                            party=1520
                        },
                        general={}
                    },
                    preBattle=true
                },
                { --Floor 12
                    terrain=8,
                    requirePrevious=true,
                    enemies={
                        level=76,
                        type='standard',
                        waves={ 110, 114, 116 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=380,
                            party=1520
                        },
                        general={}
                    }
                },
                { --Floor 13
                    terrain=8,
                    requirePrevious=true,
                    enemies={
                        level=77,
                        type='standard',
                        waves={ 113, 118, 119 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=385,
                            party=1540
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                },
                { --Floor 14
                    terrain=8,
                    requirePrevious=true,
                    enemies={
                        level=78,
                        type='standard',
                        waves={ 115, 117, 220 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=390,
                            party=1560
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }
            }
        },
        { --Stage 9
            name='9 Virtue',
            picture={
                type='bust',
                imageName='Bust_FH_010_01',
                frame=1
            },
            requirements={
                quest='main',
                stage=8,
                text='Complete Chapter 8'
            },
            floors={
                { --Floor 1
                    terrain=15,
                    enemies={
                        level=80,
                        type='standard',
                        waves={ 5, 9, 11 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=400,
                            party=1600
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 2
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=80,
                        type='standard',
                        waves={ 8, 9, 12 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=400,
                            party=1600
                        },
                        general={}
                    },
                    preBattle=true
                },
                { --Floor 3
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=80,
                        type='standard',
                        waves={ 20, 25, 28 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=400,
                            party=1600
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 4
                    terrain=2,
                    requirePrevious=true,
                    enemies={
                        level=82,
                        type='standard',
                        waves={ 23, 27, 225 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=410,
                            party=1640
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                },
                { --Floor 5
                    terrain=3,
                    requirePrevious=true,
                    enemies={
                        level=83,
                        type='standard',
                        waves={ 36, 40, 42 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=415,
                            party=1660
                        },
                        general={}
                    }
                },
                { --Floor 6
                    terrain=4,
                    requirePrevious=true,
                    enemies={
                        level=83,
                        type='standard',
                        waves={ 51, 53, 58 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=415,
                            party=1660
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 7
                    terrain=4,
                    requirePrevious=true,
                    enemies={
                        level=85,
                        type='standard',
                        waves={ 54, 56, 225 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=425,
                            party=1700
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }
            }
        },
        { --Stage 10
            name='10 Beginning',
            picture={
                type='bust',
                imageName='Bust_FH_021_01',
                frame=1
            },
            requirements={
                quest='main',
                stage=9,
                text='Complete Chapter 9'
            },
            floors={
                { --Floor 1
                    terrain=12,
                    enemies={
                        level=86,
                        type='standard',
                        waves={ 172, 175, 176 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=430,
                            party=1720
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 2
                    terrain=12,
                    requirePrevious=true,
                    enemies={
                        level=86,
                        type='standard',
                        waves={ 171, 175, 178 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=430,
                            party=1720
                        },
                        general={}
                    }
                }, 
                { --Floor 3
                    terrain=9,
                    requirePrevious=true,
                    enemies={
                        level=87,
                        type='standard',
                        waves={ 125, 129, 132 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=435,
                            party=1740
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 4
                    terrain=9,
                    requirePrevious=true,
                    enemies={
                        level=87,
                        type='standard',
                        waves={ 127, 130, 131 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=435,
                            party=1740
                        },
                        general={}
                    }
                }, 
                { --Floor 5
                    terrain=9,
                    requirePrevious=true,
                    enemies={
                        level=88,
                        type='standard',
                        waves={ 126, 128, 132 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=440,
                            party=1760
                        },
                        general={}
                    }
                }, 
                { --Floor 6
                    terrain=9,
                    requirePrevious=true,
                    enemies={
                        level=88,
                        type='standard',
                        waves={ 128, 133, 134 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=440,
                            party=1760
                        },
                        general={}
                    },
                    postBattle=true
                }
            }
        },
        { --Stage 11
            name='11 Traitor',
            picture={
                type='bust',
                imageName='Bust_FH_013_01',
                frame=1
            },
            requirements={
                quest='main',
                stage=10,
                text='Complete Chapter 10'
            },
            floors={
                { --Floor 1
                    terrain=16,
                    enemies={
                        level=91,
                        type='standard',
                        waves={ 5, 23, 41 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=455,
                            party=1820
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 2
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=92,
                        type='standard',
                        waves={ 50, 68, 86 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=460,
                            party=1840
                        },
                        general={}
                    }
                },
                { --Floor 3
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=93,
                        type='standard',
                        waves={ 95, 113, 131 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=465,
                            party=1860
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 4
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=95,
                        type='standard',
                        waves={ 140, 158, 230 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            }
                        },
                        battle={
                            guild=475,
                            party=1900
                        },
                        general={}
                    },
                    preBattle=true
                }
            }
        }

    },
    side={
        { --Stage 1
            name='Summoning',
            picture={
                type='bust',
                imageName='Bust_FH_022_01',
                frame=1
            },
            floors={
                { --Floor 1
                    terrain=1,
                    enemies={
                        level=15,
                        type='standard',
                        waves={ 6, 8, 12 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=75,
                            party=300,
                            bonus={ 5, 15, 22, 23 }
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 2
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=15,
                        type='standard',
                        waves={ 7, 9, 11 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=75,
                            party=300,
                            bonus={ 5, 15, 22, 23 }
                        },
                        general={}
                    },
                }, 
                { --Floor 3
                    terrain=17,
                    requirePrevious=true,
                    enemies={
                        level=16,
                        type='standard',
                        waves={ 142, 144, 147 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=80,
                            party=320,
                            bonus={ 5, 15, 22, 23 }
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
                { --Floor 4
                    terrain=17,
                    requirePrevious=true,
                    enemies={
                        level=17,
                        type='standard',
                        waves={ 235, 237, 239 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=85,
                            party=340,
                            bonus={ 5, 15, 22, 23 }
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 5
                    terrain=17,
                    requirePrevious=true,
                    enemies={
                        level=17,
                        type='standard',
                        waves={ 236, 238, 240 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=85,
                            party=340,
                            bonus={ 5, 15, 22, 23 }
                        },
                        general={}
                    },
                }, 
                { --Floor 6
                    terrain=17,
                    requirePrevious=true,
                    enemies={
                        level=17,
                        type='standard',
                        waves={ 235, 238, 239 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=85,
                            party=340,
                            bonus={ 5, 15, 22, 23 }
                        },
                        general={}
                    },
                    postBattle=true
                }, 
                { --Floor 7
                    terrain=17,
                    requirePrevious=true,
                    enemies={
                        level=20,
                        type='standard',
                        waves={ 237, 241, 242 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=100,
                            party=400,
                            bonus={ 5, 15, 22, 23 }
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
            }
        },
        { --Stage 2
            name='Mission',
            picture={
                type='bust',
                imageName='Bust_FH_043_01',
                frame=1
            },
            floors={
                { --Floor 1
                    terrain=1,
                    enemies={
                        level=25,
                        type='standard',
                        waves={ 6, 8, 11 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=125,
                            party=500,
                            bonus={ 43, 56, 57, 58, 59 }
                        },
                        general={}
                    },
                    preBattle=true
                }, 
                { --Floor 2
                    terrain=11,
                    requirePrevious=true,
                    enemies={
                        level=26,
                        type='standard',
                        waves={ 156, 160, 161 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=130,
                            party=520,
                            bonus={ 43, 56, 57, 58, 59 }
                        },
                        general={}
                    },
                    preBattle=true
                },
                { --Floor 3
                    terrain=11,
                    requirePrevious=true,
                    enemies={
                        level=26,
                        type='standard',
                        waves={ 155, 158, 163 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=130,
                            party=520,
                            bonus={ 43, 56, 57, 58, 59 }
                        },
                        general={}
                    }
                },
                { --Floor 4
                    terrain=11,
                    requirePrevious=true,
                    enemies={
                        level=26,
                        type='standard',
                        waves={ 157, 159, 162 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=130,
                            party=520,
                            bonus={ 43, 56, 57, 58, 59 }
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 5
                    terrain=6,
                    requirePrevious=true,
                    enemies={
                        level=28,
                        type='standard',
                        waves={ 82, 83, 88 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=140,
                            party=560,
                            bonus={ 43, 56, 57, 58, 59 }
                        },
                        general={}
                    }
                },
                { --Floor 6
                    terrain=6,
                    requirePrevious=true,
                    enemies={
                        level=28,
                        type='standard',
                        waves={ 81, 85, 87 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=140,
                            party=560,
                            bonus={ 43, 56, 57, 58, 59 }
                        },
                        general={}
                    }
                },
                { --Floor 7
                    terrain=6,
                    requirePrevious=true,
                    enemies={
                        level=28,
                        type='standard',
                        waves={ 80, 84, 86 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=140,
                            party=560,
                            bonus={ 43, 56, 57, 58, 59 }
                        },
                        general={}
                    },
                    postBattle=true
                },
                { --Floor 8
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=30,
                        type='standard',
                        waves={ 10, 11, 245 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=150,
                            party=600,
                            bonus={ 43, 56, 57, 58, 59 }
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                },
            }
        },
        { --Stage 3
            name='Demon Lord',
            picture={
                type='bust',
                imageName='Bust_FH_016_01',
                frame=1
            },
            requirements={
                quest='main',
                stage=6,
                text='Complete Chapter 6'
            },
            floors={
                { --Floor 1
                    terrain=15,
                    enemies={
                        level=61,
                        type='standard',
                        waves={ 188, 193, 250 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=305,
                            party=1220,
                            bonus={ 16 }
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
                { --Floor 2
                    terrain=15,
                    requirePrevious=true,
                    enemies={
                        level=62,
                        type='standard',
                        waves={ 189, 195, 251 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=310,
                            party=1240,
                            bonus={ 16 }
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
                { --Floor 3
                    terrain=15,
                    requirePrevious=true,
                    enemies={
                        level=63,
                        type='standard',
                        waves={ 190, 192, 252 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=315,
                            party=1260,
                            bonus={ 16 }
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
                { --Floor 4
                    terrain=15,
                    requirePrevious=true,
                    enemies={
                        level=64,
                        type='standard',
                        waves={ 191, 194, 253 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=320,
                            party=1280,
                            bonus={ 16 }
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
                { --Floor 5
                    terrain=15,
                    requirePrevious=true,
                    enemies={
                        level=65,
                        type='standard',
                        waves={ 189, 192, 254 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=325,
                            party=1300,
                            bonus={ 16 }
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                }, 
            }
        },
        { --Stage 4
            name='Friends',
            picture={
                type='bust',
                imageName='Bust_FH_018_01',
                frame=1
            },
            requirements={
                quest='main',
                stage=6,
                text='Complete Chapter 6'
            },
            floors={
                { --Floor 1
                    terrain=1,
                    enemies={
                        level=80,
                        type='standard',
                        waves={ 5, 8, 11 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=400,
                            party=1600,
                            bonus={ 8, 17, 18 }
                        },
                        general={}
                    },
                    preBattle=true
                },
                { --Floor 2
                    terrain=18,
                    requirePrevious=true,
                    enemies={
                        level=81,
                        type='standard',
                        waves={ 188, 192, 260 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=405,
                            party=1620,
                            bonus={ 8, 17, 18 }
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                },
                { --Floor 3
                    terrain=1,
                    requirePrevious=true,
                    enemies={
                        level=82,
                        type='standard',
                        waves={ 5, 7, 12 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=410,
                            party=1640,
                            bonus={ 8, 17, 18 }
                        },
                        general={}
                    },
                    preBattle=true,
                    postBattle=true
                },
                { --Floor 4
                    terrain=10,
                    requirePrevious=true,
                    enemies={
                        level=83,
                        type='standard',
                        waves={ 142, 145, 148 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=415,
                            party=1660,
                            bonus={ 8, 17, 18 }
                        },
                        general={}
                    },
                    preBattle=true
                },
                { --Floor 5
                    terrain=10,
                    requirePrevious=true,
                    enemies={
                        level=85,
                        type='standard',
                        waves={ 144, 147, 149 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }
                        },
                        battle={
                            guild=425,
                            party=1700,
                            bonus={ 8, 17, 18 }
                        },
                        general={}
                    },
                    postBattle=true
                }
            }
        }
    },
    gear={
        { --Weapon
            name='Weapon',
            picture={
                type='stage',
                imageName='Weapon'
            },
            floors={
                {
                    terrain=16,
                    enemies={
                        level=5,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=197,
                                name='Random weapon',
                                description='1 random weapon (0 slots)',
                                count=1,
                                chance=1,
                                category=5,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103, 106, 109, 112, 115, 118, 121, 124, 127, 130, 133, 136, 139, 142, 145, 148, 151, 154, 157, 160, 163, 166 }
                            }
                        },
                        battle={
                            guild=25,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=197,
                                name='Random weapon',
                                description='1 random weapon (0 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=5,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103, 106, 109, 112, 115, 118, 121, 124, 127, 130, 133, 136, 139, 142, 145, 148, 151, 154, 157, 160, 163, 166 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=20,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=197,
                                name='Random weapon',
                                description='2 random weapons (0 slots)',
                                count=2,
                                chance=1,
                                category=5,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103, 106, 109, 112, 115, 118, 121, 124, 127, 130, 133, 136, 139, 142, 145, 148, 151, 154, 157, 160, 163, 166 }
                            }
                        },
                        battle={
                            guild=100,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=197,
                                name='Random weapon',
                                description='1 random weapons (0 slots)',
                                count=1,
                                chance=1,
                                category=5,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103, 106, 109, 112, 115, 118, 121, 124, 127, 130, 133, 136, 139, 142, 145, 148, 151, 154, 157, 160, 163, 166 }
                            },
                            {
                                icon=197,
                                name='Random weapon',
                                description='1 random weapons (0 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=5,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103, 106, 109, 112, 115, 118, 121, 124, 127, 130, 133, 136, 139, 142, 145, 148, 151, 154, 157, 160, 163, 166 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=35,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=198,
                                name='Random weapon',
                                description='1 random weapon (1 slot)',
                                count=1,
                                chance=1,
                                category=5,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104, 107, 110, 113, 116, 119, 122, 125, 128, 131, 134, 137, 140, 143, 146, 149, 152, 155, 158, 161, 164, 167 }
                            }
                        },
                        battle={
                            guild=175,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=198,
                                name='Random weapon',
                                description='1 random weapon (1 slot)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=5,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104, 107, 110, 113, 116, 119, 122, 125, 128, 131, 134, 137, 140, 143, 146, 149, 152, 155, 158, 161, 164, 167 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=50,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=198,
                                name='Random weapon',
                                description='2 random weapons (1 slot)',
                                count=2,
                                chance=1,
                                category=5,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104, 107, 110, 113, 116, 119, 122, 125, 128, 131, 134, 137, 140, 143, 146, 149, 152, 155, 158, 161, 164, 167 }
                            }
                        },
                        battle={
                            guild=250,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=198,
                                name='Random weapon',
                                description='1 random weapons (1 slot)',
                                count=1,
                                chance=1,
                                category=5,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104, 107, 110, 113, 116, 119, 122, 125, 128, 131, 134, 137, 140, 143, 146, 149, 152, 155, 158, 161, 164, 167 }
                            },
                            {
                                icon=198,
                                name='Random weapon',
                                description='1 random weapons (1 slot)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=5,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104, 107, 110, 113, 116, 119, 122, 125, 128, 131, 134, 137, 140, 143, 146, 149, 152, 155, 158, 161, 164, 167 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=65,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=199,
                                name='Random weapon',
                                description='1 random weapon (2 slots)',
                                count=1,
                                chance=1,
                                category=5,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105, 108, 111, 114, 117, 120, 123, 126, 129, 132, 135, 138, 141, 144, 147, 150, 153, 156, 159, 162, 165, 168 }
                            }
                        },
                        battle={
                            guild=325,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=199,
                                name='Random weapon',
                                description='1 random weapon (2 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=5,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105, 108, 111, 114, 117, 120, 123, 126, 129, 132, 135, 138, 141, 144, 147, 150, 153, 156, 159, 162, 165, 168 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=80,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=199,
                                name='Random weapon',
                                description='2 random weapons (2 slots)',
                                count=2,
                                chance=1,
                                category=5,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105, 108, 111, 114, 117, 120, 123, 126, 129, 132, 135, 138, 141, 144, 147, 150, 153, 156, 159, 162, 165, 168 }
                            }
                        },
                        battle={
                            guild=400,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=199,
                                name='Random weapon',
                                description='1 random weapons (2 slots)',
                                count=1,
                                chance=1,
                                category=5,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105, 108, 111, 114, 117, 120, 123, 126, 129, 132, 135, 138, 141, 144, 147, 150, 153, 156, 159, 162, 165, 168 }
                            },
                            {
                                icon=199,
                                name='Random weapon',
                                description='1 random weapons (2 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=5,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105, 108, 111, 114, 117, 120, 123, 126, 129, 132, 135, 138, 141, 144, 147, 150, 153, 156, 159, 162, 165, 168 }
                            }
                        }
                    },
                    canAuto=true
                }
            }
        },
        { --Body
            name='Body',
            picture={
                type='stage',
                imageName='Body'
            },
            floors={
                {
                    terrain=16,
                    enemies={
                        level=5,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=200,
                                name='Random body',
                                description='1 random body (0 slots)',
                                count=1,
                                chance=1,
                                category=6,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103 }
                            }
                        },
                        battle={
                            guild=25,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=200,
                                name='Random body',
                                description='1 random body (0 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=6,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=20,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=200,
                                name='Random body',
                                description='2 random body (0 slots)',
                                count=2,
                                chance=1,
                                category=6,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103 }
                            }
                        },
                        battle={
                            guild=100,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=200,
                                name='Random body',
                                description='1 random body (0 slots)',
                                count=1,
                                chance=1,
                                category=6,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103 }
                            },
                            {
                                icon=200,
                                name='Random body',
                                description='1 random body (0 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=6,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=35,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=201,
                                name='Random body',
                                description='1 random body (1 slot)',
                                count=1,
                                chance=1,
                                category=6,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104 }
                            }
                        },
                        battle={
                            guild=175,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=201,
                                name='Random body',
                                description='1 random body (1 slot)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=6,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=50,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=201,
                                name='Random body',
                                description='2 random body (1 slot)',
                                count=2,
                                chance=1,
                                category=6,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104 }
                            }
                        },
                        battle={
                            guild=250,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=201,
                                name='Random body',
                                description='1 random body (1 slot)',
                                count=1,
                                chance=1,
                                category=6,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104 }
                            },
                            {
                                icon=201,
                                name='Random body',
                                description='1 random body (1 slot)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=6,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=65,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=202,
                                name='Random body',
                                description='1 random body (2 slots)',
                                count=1,
                                chance=1,
                                category=6,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105 }
                            }
                        },
                        battle={
                            guild=325,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=202,
                                name='Random body',
                                description='1 random body (2 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=6,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=80,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=202,
                                name='Random body',
                                description='2 random body (2 slots)',
                                count=2,
                                chance=1,
                                category=6,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105 }
                            }
                        },
                        battle={
                            guild=400,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=202,
                                name='Random body',
                                description='1 random body (2 slots)',
                                count=1,
                                chance=1,
                                category=6,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105 }
                            },
                            {
                                icon=202,
                                name='Random body',
                                description='1 random body (2 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=6,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105 }
                            }
                        }
                    },
                    canAuto=true
                }
            },
        }, 
        { --Head
            name='Head',
            picture={
                type='stage',
                imageName='Head'
            },
            floors={
                {
                    terrain=16,
                    enemies={
                        level=5,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=203,
                                name='Random head',
                                description='1 random head (0 slots)',
                                count=1,
                                chance=1,
                                category=7,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103 }
                            }
                        },
                        battle={
                            guild=25,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=203,
                                name='Random head',
                                description='1 random head (0 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=7,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=20,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=203,
                                name='Random head',
                                description='2 random head (0 slots)',
                                count=2,
                                chance=1,
                                category=7,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103 }
                            }
                        },
                        battle={
                            guild=100,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=203,
                                name='Random head',
                                description='1 random head (0 slots)',
                                count=1,
                                chance=1,
                                category=7,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103 }
                            },
                            {
                                icon=203,
                                name='Random head',
                                description='1 random head (0 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=7,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=35,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=204,
                                name='Random head',
                                description='1 random head (1 slot)',
                                count=1,
                                chance=1,
                                category=7,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104 }
                            }
                        },
                        battle={
                            guild=175,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=204,
                                name='Random head',
                                description='1 random head (1 slot)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=7,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=50,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=204,
                                name='Random head',
                                description='2 random head (1 slot)',
                                count=2,
                                chance=1,
                                category=7,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104 }
                            }
                        },
                        battle={
                            guild=250,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=204,
                                name='Random head',
                                description='1 random head (1 slot)',
                                count=1,
                                chance=1,
                                category=7,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104 }
                            },
                            {
                                icon=204,
                                name='Random head',
                                description='1 random head (1 slot)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=7,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=65,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=205,
                                name='Random head',
                                description='1 random head (2 slots)',
                                count=1,
                                chance=1,
                                category=7,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105 }
                            }
                        },
                        battle={
                            guild=325,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=205,
                                name='Random head',
                                description='1 random head (2 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=7,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=80,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=205,
                                name='Random head',
                                description='2 random head (2 slots)',
                                count=2,
                                chance=1,
                                category=7,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105 }
                            }
                        },
                        battle={
                            guild=400,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=205,
                                name='Random head',
                                description='1 random head (2 slots)',
                                count=1,
                                chance=1,
                                category=7,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105 }
                            },
                            {
                                icon=205,
                                name='Random head',
                                description='1 random head (2 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=7,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105 }
                            }
                        }
                    },
                    canAuto=true
                }
            },
        }, 
        { --Legs
            name='Legs',
            picture={
                type='stage',
                imageName='Legs'
            },
            floors={
                {
                    terrain=16,
                    enemies={
                        level=5,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=206,
                                name='Random leg',
                                description='1 random leg (0 slots)',
                                count=1,
                                chance=1,
                                category=8,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103, 106, 109, 112, 115, 118, 121, 124 }
                            }
                        },
                        battle={
                            guild=25,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=206,
                                name='Random leg',
                                description='1 random leg (0 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=8,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103, 106, 109, 112, 115, 118, 121, 124 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=20,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=206,
                                name='Random leg',
                                description='2 random leg (0 slots)',
                                count=2,
                                chance=1,
                                category=8,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103, 106, 109, 112, 115, 118, 121, 124 }
                            }
                        },
                        battle={
                            guild=100,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=206,
                                name='Random leg',
                                description='1 random leg (0 slots)',
                                count=1,
                                chance=1,
                                category=8,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103, 106, 109, 112, 115, 118, 121, 124 }
                            },
                            {
                                icon=206,
                                name='Random leg',
                                description='1 random leg (0 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=8,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70, 73, 76, 79, 82, 85, 88, 91, 94, 97, 100, 103, 106, 109, 112, 115, 118, 121, 124 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=35,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=207,
                                name='Random leg',
                                description='1 random leg (1 slot)',
                                count=1,
                                chance=1,
                                category=8,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104, 107, 110, 113, 116, 119, 122, 125 }
                            }
                        },
                        battle={
                            guild=175,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=207,
                                name='Random leg',
                                description='1 random leg (1 slot)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=8,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104, 107, 110, 113, 116, 119, 122, 125 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=50,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=207,
                                name='Random leg',
                                description='2 random leg (1 slot)',
                                count=2,
                                chance=1,
                                category=8,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104, 107, 110, 113, 116, 119, 122, 125 }
                            }
                        },
                        battle={
                            guild=250,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=207,
                                name='Random leg',
                                description='1 random leg (1 slot)',
                                count=1,
                                chance=1,
                                category=8,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104, 107, 110, 113, 116, 119, 122, 125 }
                            },
                            {
                                icon=207,
                                name='Random leg',
                                description='1 random leg (1 slot)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=8,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71, 74, 77, 80, 83, 86, 89, 92, 95, 98, 101, 104, 107, 110, 113, 116, 119, 122, 125 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=65,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=208,
                                name='Random leg',
                                description='1 random leg (2 slots)',
                                count=1,
                                chance=1,
                                category=8,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105, 108, 111, 114, 117, 120, 123, 126 }
                            }
                        },
                        battle={
                            guild=325,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=208,
                                name='Random leg',
                                description='1 random leg (2 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=8,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105, 108, 111, 114, 117, 120, 123, 126 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=80,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=208,
                                name='Random leg',
                                description='2 random leg (2 slots)',
                                count=2,
                                chance=1,
                                category=8,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105, 108, 111, 114, 117, 120, 123, 126 }
                            }
                        },
                        battle={
                            guild=400,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=208,
                                name='Random leg',
                                description='1 random leg (2 slots)',
                                count=1,
                                chance=1,
                                category=8,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105, 108, 111, 114, 117, 120, 123, 126 }
                            },
                            {
                                icon=208,
                                name='Random leg',
                                description='1 random leg (2 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=8,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72, 75, 78, 81, 84, 87, 90, 93, 96, 99, 102, 105, 108, 111, 114, 117, 120, 123, 126 }
                            }
                        }
                    },
                    canAuto=true
                }
            },
        }, 
        { --Accessory
            name='Accessory',
            picture={
                type='stage',
                imageName='Accessory'
            },
            floors={
                {
                    terrain=16,
                    enemies={
                        level=5,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=211,
                                name='Random accessory',
                                description='1 random accessory (0 slots)',
                                count=1,
                                chance=1,
                                category=9,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70 }
                            }
                        },
                        battle={
                            guild=10,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=211,
                                name='Random accessory',
                                description='1 random accessory (0 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=9,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=20,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=211,
                                name='Random accessory',
                                description='2 random accessory (0 slots)',
                                count=2,
                                chance=1,
                                category=9,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70 }
                            }
                        },
                        battle={
                            guild=100,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=211,
                                name='Random accessory',
                                description='1 random accessory (0 slots)',
                                count=1,
                                chance=1,
                                category=9,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70 }
                            },
                            {
                                icon=211,
                                name='Random accessory',
                                description='1 random accessory (0 slots)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=9,
                                ids={ 1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55, 58, 61, 64, 67, 70 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=35,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=212,
                                name='Random accessory',
                                description='1 random accessory (1 slot)',
                                count=1,
                                chance=1,
                                category=9,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71 }
                            }
                        },
                        battle={
                            guild=175,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=212,
                                name='Random accessory',
                                description='1 random accessory (1 slot)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=9,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=50,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=212,
                                name='Random accessory',
                                description='2 random accessory (1 slot)',
                                count=2,
                                chance=1,
                                category=9,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71 }
                            }
                        },
                        battle={
                            guild=250,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=212,
                                name='Random accessory',
                                description='1 random accessory (1 slot)',
                                count=1,
                                chance=1,
                                category=9,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71 }
                            },
                            {
                                icon=212,
                                name='Random accessory',
                                description='1 random accessory (1 slot)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=9,
                                ids={ 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, 47, 50, 53, 56, 59, 62, 65, 68, 71 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=65,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=213,
                                name='Random accessory',
                                description='1 random accessory (2 slot)',
                                count=1,
                                chance=1,
                                category=9,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72 }
                            }
                        },
                        battle={
                            guild=325,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=213,
                                name='Random accessory',
                                description='1 random accessory (2 slot)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=9,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72 }
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=80,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                icon=213,
                                name='Random accessory',
                                description='2 random accessory (2 slot)',
                                count=2,
                                chance=1,
                                category=9,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72 }
                            }
                        },
                        battle={
                            guild=400,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=11,
                                count=5
                            },
                            {
                                icon=213,
                                name='Random accessory',
                                description='1 random accessory (2 slot)',
                                count=1,
                                chance=1,
                                category=9,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72 }
                            },
                            {
                                icon=213,
                                name='Random accessory',
                                description='1 random accessory (2 slot)\n50% chance',
                                count=1,
                                chance=0.5,
                                category=9,
                                ids={ 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45, 48, 51, 54, 57, 60, 63, 66, 69, 72 }
                            }
                        }
                    },
                    canAuto=true
                }
            },
        }
    },
    tome={
        { --Stage 1
            name='Physical',
            picture={
                type='stage',
                imageName='Physical'
            },
            floors={
                {
                    terrain=25,
                    enemies={
                        level=10,
                        type='random',
                        terrains={ 1, 2 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=1,
                                count=1
                            }
                        },
                        battle={
                            guild=50,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=1,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=25,
                    requirePrevious=true,
                    enemies={
                        level=25,
                        type='random',
                        terrains={ 1, 2 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=1,
                                count=2
                            }
                        },
                        battle={
                            guild=125,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=1,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=1,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=25,
                    requirePrevious=true,
                    enemies={
                        level=40,
                        type='random',
                        terrains={ 1, 2 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=2,
                                count=1
                            }
                        },
                        battle={
                            guild=200,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=2,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=25,
                    requirePrevious=true,
                    enemies={
                        level=55,
                        type='random',
                        terrains={ 1, 2 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=2,
                                count=2
                            }
                        },
                        battle={
                            guild=275,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=2,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=2,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=25,
                    requirePrevious=true,
                    enemies={
                        level=70,
                        type='random',
                        terrains={ 1, 2 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=3,
                                count=1,
                                chance=1
                            }
                        },
                        battle={
                            guild=350,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=3,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=25,
                    requirePrevious=true,
                    enemies={
                        level=85,
                        type='random',
                        terrains={ 1, 2 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }, 
                            {
                                category=3,
                                id=3,
                                count=2,
                                chance=1
                            }
                        },
                        battle={
                            guild=425,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=3,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=3,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }
            }
        },
        { --Stage 2
            name='Energy',
            picture={
                type='stage',
                imageName='Energy'
            },
            floors={
                {
                    terrain=26,
                    enemies={
                        level=10,
                        type='random',
                        terrains={ 3, 4 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=4,
                                count=1
                            }
                        },
                        battle={
                            guild=50,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=4,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=26,
                    requirePrevious=true,
                    enemies={
                        level=25,
                        type='random',
                        terrains={ 3, 4 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=4,
                                count=2
                            }
                        },
                        battle={
                            guild=125,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=4,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=4,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=26,
                    requirePrevious=true,
                    enemies={
                        level=40,
                        type='random',
                        terrains={ 3, 4 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=5,
                                count=1
                            }
                        },
                        battle={
                            guild=200,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=5,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=26,
                    requirePrevious=true,
                    enemies={
                        level=55,
                        type='random',
                        terrains={ 3, 4 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=5,
                                count=2
                            }
                        },
                        battle={
                            guild=275,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=5,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=5,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=26,
                    requirePrevious=true,
                    enemies={
                        level=70,
                        type='random',
                        terrains={ 3, 4 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=6,
                                count=1,
                                chance=1
                            }
                        },
                        battle={
                            guild=350,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=6,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=26,
                    requirePrevious=true,
                    enemies={
                        level=85,
                        type='random',
                        terrains={ 3, 4 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }, 
                            {
                                category=3,
                                id=6,
                                count=2,
                                chance=1
                            }
                        },
                        battle={
                            guild=425,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=6,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=6,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }
            },
        },
        { --Stage 3
            name='Cold',
            picture={
                type='stage',
                imageName='Cold'
            },
            floors={
                {
                    terrain=27,
                    enemies={
                        level=10,
                        type='random',
                        terrains={ 5, 6 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=7,
                                count=1
                            }
                        },
                        battle={
                            guild=50,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=7,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=27,
                    requirePrevious=true,
                    enemies={
                        level=25,
                        type='random',
                        terrains={ 5, 6 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=7,
                                count=2
                            }
                        },
                        battle={
                            guild=125,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=7,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=7,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=27,
                    requirePrevious=true,
                    enemies={
                        level=40,
                        type='random',
                        terrains={ 5, 6 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=8,
                                count=1
                            }
                        },
                        battle={
                            guild=200,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=8,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=27,
                    requirePrevious=true,
                    enemies={
                        level=55,
                        type='random',
                        terrains={ 5, 6 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=8,
                                count=2
                            }
                        },
                        battle={
                            guild=275,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=8,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=8,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=27,
                    requirePrevious=true,
                    enemies={
                        level=70,
                        type='random',
                        terrains={ 5, 6 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=9,
                                count=1,
                                chance=1
                            }
                        },
                        battle={
                            guild=350,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=9,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=27,
                    requirePrevious=true,
                    enemies={
                        level=85,
                        type='random',
                        terrains={ 5, 6 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }, 
                            {
                                category=3,
                                id=9,
                                count=2,
                                chance=1
                            }
                        },
                        battle={
                            guild=425,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=9,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=9,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }
            },
        },
        { --Stage 4
            name='Nature',
            picture={
                type='stage',
                imageName='Nature'
            },
            floors={
                {
                    terrain=28,
                    enemies={
                        level=10,
                        type='random',
                        terrains={ 7, 8 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=10,
                                count=1
                            }
                        },
                        battle={
                            guild=50,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=10,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=28,
                    requirePrevious=true,
                    enemies={
                        level=25,
                        type='random',
                        terrains={ 7, 8 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=10,
                                count=2
                            }
                        },
                        battle={
                            guild=125,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=10,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=10,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=28,
                    requirePrevious=true,
                    enemies={
                        level=40,
                        type='random',
                        terrains={ 7, 8 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=11,
                                count=1
                            }
                        },
                        battle={
                            guild=200,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=11,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=28,
                    requirePrevious=true,
                    enemies={
                        level=55,
                        type='random',
                        terrains={ 7, 8 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=11,
                                count=2
                            }
                        },
                        battle={
                            guild=275,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=11,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=11,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=28,
                    requirePrevious=true,
                    enemies={
                        level=70,
                        type='random',
                        terrains={ 7, 8 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=12,
                                count=1,
                                chance=1
                            }
                        },
                        battle={
                            guild=350,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=12,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=28,
                    requirePrevious=true,
                    enemies={
                        level=85,
                        type='random',
                        terrains={ 7, 8 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }, 
                            {
                                category=3,
                                id=12,
                                count=2,
                                chance=1
                            }
                        },
                        battle={
                            guild=425,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=12,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=12,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }
            },
        },
        { --Stage 5
            name='Elemental',
            picture={
                type='stage',
                imageName='Elemental'
            },
            floors={
                {
                    terrain=29,
                    enemies={
                        level=10,
                        type='random',
                        terrains={ 9, 10 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=13,
                                count=1
                            }
                        },
                        battle={
                            guild=50,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=13,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=29,
                    requirePrevious=true,
                    enemies={
                        level=25,
                        type='random',
                        terrains={ 9, 10 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=13,
                                count=2
                            }
                        },
                        battle={
                            guild=125,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=13,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=13,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=29,
                    requirePrevious=true,
                    enemies={
                        level=40,
                        type='random',
                        terrains={ 9, 10 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=14,
                                count=1
                            }
                        },
                        battle={
                            guild=200,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=14,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=29,
                    requirePrevious=true,
                    enemies={
                        level=55,
                        type='random',
                        terrains={ 9, 10 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=14,
                                count=2
                            }
                        },
                        battle={
                            guild=275,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=14,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=14,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=29,
                    requirePrevious=true,
                    enemies={
                        level=70,
                        type='random',
                        terrains={ 9, 10 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=15,
                                count=1,
                                chance=1
                            }
                        },
                        battle={
                            guild=350,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=15,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=29,
                    requirePrevious=true,
                    enemies={
                        level=85,
                        type='random',
                        terrains={ 9, 10 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }, 
                            {
                                category=3,
                                id=15,
                                count=2,
                                chance=1
                            }
                        },
                        battle={
                            guild=425,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=15,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=15,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }
            },
        },
        { --Stage 6
            name='Support',
            picture={
                type='stage',
                imageName='Support'
            },
            floors={
                {
                    terrain=30,
                    enemies={
                        level=10,
                        type='random',
                        terrains={ 11, 12 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=16,
                                count=1
                            }
                        },
                        battle={
                            guild=50,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=16,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=30,
                    requirePrevious=true,
                    enemies={
                        level=25,
                        type='random',
                        terrains={ 11, 12 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=16,
                                count=2
                            }
                        },
                        battle={
                            guild=125,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=16,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=16,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=30,
                    requirePrevious=true,
                    enemies={
                        level=40,
                        type='random',
                        terrains={ 11, 12 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=17,
                                count=1
                            }
                        },
                        battle={
                            guild=200,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=17,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=30,
                    requirePrevious=true,
                    enemies={
                        level=55,
                        type='random',
                        terrains={ 11, 12 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=17,
                                count=2
                            }
                        },
                        battle={
                            guild=275,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=17,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=17,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=30,
                    requirePrevious=true,
                    enemies={
                        level=70,
                        type='random',
                        terrains={ 11, 12 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=3,
                                id=18,
                                count=1,
                                chance=1
                            }
                        },
                        battle={
                            guild=350,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            },
                            {
                                category=3,
                                id=18,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=30,
                    requirePrevious=true,
                    enemies={
                        level=85,
                        type='random',
                        terrains={ 11, 12 }
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            }, 
                            {
                                category=3,
                                id=18,
                                count=2,
                                chance=1
                            }
                        },
                        battle={
                            guild=425,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=10,
                                count=5
                            }, 
                            {
                                category=3,
                                id=18,
                                count=1,
                                chance=1
                            }, 
                            {
                                category=3,
                                id=18,
                                count=1,
                                chance=0.5
                            }
                        }
                    },
                    canAuto=true
                }
            },
        }
    },
    onslaught={
        { --Stage 1
            name='Onslaught',
            picture={
                type='stage',
                imageName='Void'
            },
            floors={
                {
                    terrain=16,
                    enemies={
                        level=30,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=1,
                                id=6,
                                count=5
                            }
                        },
                        battle={
                            guild=150,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=6,
                                count=5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=50,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=1,
                                id=7,
                                count=5
                            }
                        },
                        battle={
                            guild=250,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=7,
                                count=5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=70,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=1,
                                id=6,
                                count=15
                            }
                        },
                        battle={
                            guild=350,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=7,
                                count=5
                            },
                            {
                                category=1,
                                id=6,
                                count=5
                            }
                        }
                    },
                    canAuto=true
                }, {
                    terrain=16,
                    requirePrevious=true,
                    enemies={
                        level=90,
                        type='random',
                        terrain=0
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=250
                            },
                            {
                                category=1,
                                id=8,
                                count=5
                            }
                        },
                        battle={
                            guild=450,
                            party=0
                        },
                        general={
                            {
                                category=1,
                                id=8,
                                count=5
                            }
                        }
                    },
                    canAuto=true
                }
            },
        }
    },
    tower={ --we update enemies dynamically
        {
            name='Floor 1',
            picture={
                type='stage',
                imageName='Tower 1'
            },
            floors={
                { --Floor 1
                    terrain=22,
                    enemies={
                        level=1,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 2
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=2,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 3
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=3,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 4
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=4,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 5
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=5,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 6
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=6,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 7
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=7,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 8
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=8,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 9
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=9,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 10
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=10,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                }
            }
        },
        {
            name='Floor 2',
            picture={
                type='stage',
                imageName='Tower 2'
            },
            requirements={
                quest='tower',
                stage=1,
                text='Complete Floor 1'
            },
            floors={
                { --Floor 1
                    terrain=22,
                    enemies={
                        level=11,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 2
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=12,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 3
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=13,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 4
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=14,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 5
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=15,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 6
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=16,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 7
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=17,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 8
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=18,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 9
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=19,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 10
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=20,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                }
            }
        },
        {
            name='Floor 3',
            picture={
                type='stage',
                imageName='Tower 3'
            },
            requirements={
                quest='tower',
                stage=2,
                text='Complete Floor 2'
            },
            floors={
                { --Floor 1
                    terrain=22,
                    enemies={
                        level=21,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 2
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=22,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 3
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=23,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 4
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=24,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 5
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=25,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 6
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=26,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 7
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=27,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 8
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=28,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 9
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=29,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 10
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=30,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                }
            }
        },
        {
            name='Floor 4',
            picture={
                type='stage',
                imageName='Tower 4'
            },
            requirements={
                quest='tower',
                stage=3,
                text='Complete Floor 3'
            },
            floors={
                { --Floor 1
                    terrain=22,
                    enemies={
                        level=31,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 2
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=32,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 3
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=33,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 4
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=34,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 5
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=35,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 6
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=36,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 7
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=37,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 8
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=38,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 9
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=39,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 10
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=40,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                }
            }
        },
        {
            name='Floor 5',
            picture={
                type='stage',
                imageName='Tower 5'
            },
            requirements={
                quest='tower',
                stage=4,
                text='Complete Floor 4'
            },
            floors={
                { --Floor 1
                    terrain=22,
                    enemies={
                        level=41,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 2
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=42,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 3
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=43,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 4
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=44,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 5
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=45,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 6
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=46,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 7
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=47,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 8
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=48,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 9
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=49,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 10
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=50,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                }
            }
        },
        {
            name='Floor 6',
            picture={
                type='stage',
                imageName='Tower 6'
            },
            requirements={
                quest='tower',
                stage=5,
                text='Complete Floor 5'
            },
            floors={
                { --Floor 1
                    terrain=22,
                    enemies={
                        level=51,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 2
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=52,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 3
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=53,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 4
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=54,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 5
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=55,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 6
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=56,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 7
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=57,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 8
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=58,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 9
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=59,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 10
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=60,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                }
            }
        },
        {
            name='Floor 7',
            picture={
                type='stage',
                imageName='Tower 7'
            },
            requirements={
                quest='tower',
                stage=6,
                text='Complete Floor 6'
            },
            floors={
                { --Floor 1
                    terrain=22,
                    enemies={
                        level=61,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 2
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=62,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 3
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=63,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 4
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=64,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 5
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=65,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 6
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=66,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 7
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=67,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 8
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=68,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 9
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=69,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 10
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=70,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                }
            }
        },
        {
            name='Floor 8',
            picture={
                type='stage',
                imageName='Tower 8'
            },
            requirements={
                quest='tower',
                stage=7,
                text='Complete Floor 7'
            },
            floors={
                { --Floor 1
                    terrain=22,
                    enemies={
                        level=71,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 2
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=72,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 3
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=73,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 4
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=74,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 5
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=75,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 6
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=76,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 7
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=77,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 8
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=78,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 9
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=79,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 10
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=80,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                }
            }
        },
        {
            name='Floor 9',
            picture={
                type='stage',
                imageName='Tower 9'
            },
            requirements={
                quest='tower',
                stage=8,
                text='Complete Floor 8'
            },
            floors={
                { --Floor 1
                    terrain=22,
                    enemies={
                        level=81,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 2
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=82,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 3
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=83,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 4
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=84,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 5
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=85,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 6
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=86,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 7
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=87,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 8
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=88,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 9
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=89,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 10
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=90,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                }
            }
        },
        {
            name='Floor 10',
            picture={
                type='stage',
                imageName='Tower 10'
            },
            requirements={
                quest='tower',
                stage=9,
                text='Complete Floor 9'
            },
            floors={
                { --Floor 1
                    terrain=22,
                    enemies={
                        level=91,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 2
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=92,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 3
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=93,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 4
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=94,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 5
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=95,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 6
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=96,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 7
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=97,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 8
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=98,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 9
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=99,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=1,
                                id=15,
                                count=1
                            }
                        },
                        battle={},
                        general={}
                    },
                },
                { --Floor 10
                    terrain=22,
                    requirePrevious=true,
                    enemies={
                        level=100,
                        type='standard',
                        waves=nil
                    }, 
                    rewards={
                        first={
                            {
                                category=0,
                                id=1,
                                count=500
                            },
                            {
                                category=1,
                                id=15,
                                count=5
                            }
                        },
                        battle={},
                        general={}
                    },
                }
            }
        }
    }
}

M.getStagesForQuest = function(category)
    return quests[category]
end

--TOWER, map possible troops per floor
local towerEnemies = {
    --these are ranges as i couldnt be bothered mapping all possible groups
    { --normal
        { { 5,6,7 }, { 8, 9, 10 }, { 11, 12, 13 } }, --grassland
        { { 20, 21, 22 }, { 23, 24, 25 }, { 26, 27, 28 } }, --wasteland
        { { 35, 36, 37 }, { 38, 39, 40 }, { 41, 42, 43 } }, --volcanic
        { { 50, 51, 52 }, { 53, 54, 55 }, { 56, 57, 58 } }, --galvanic
        { { 65, 66, 67 }, { 68, 69, 70 }, { 71, 72, 73 } }, --ice cave
        { { 80, 81, 82 }, { 83, 84, 85 }, { 86, 87, 88 } }, --sea
        { { 95, 96, 97 }, { 98, 99, 100 }, { 101, 102, 103 } }, --cave
        { { 110, 111, 112 }, { 113, 114, 115 }, { 116, 117, 118 } }, --cliff
        { { 125, 126, 127 }, { 128, 129, 130 }, { 131, 132, 133 } }, --heaven
        { { 140, 141, 142 }, { 143, 144, 145 }, { 146, 147, 148 } }, --purgatory
        { { 155, 156, 157 }, { 158, 159, 160 }, { 161, 162, 163 } }, --forest
        { { 170, 171, 172 }, { 173, 174, 175 }, { 176, 177, 178 } }, --jungle
    },
    { --boss
        { { 8, 9, 10}, { 11, 12, 13 }, { 14 } },
        { { 23, 24, 25 }, { 26, 27, 28 }, { 29 } },
        { { 38, 39, 40 }, { 41, 42, 43 }, { 44 } },
        { { 53, 54, 55 }, { 56, 57, 58 }, { 59 } },
        { { 68, 69, 70 }, { 71, 72, 73 }, { 74 } },
        { { 83, 84, 85 }, { 86, 87, 88 }, { 89 } },
        { { 98, 99, 100 }, { 101, 102, 103 }, { 104 } },
        { { 113, 114, 115 }, { 116, 117, 118 }, { 119 } },
        { { 128, 129, 130 }, { 131, 132, 133 }, { 134 } },
        { { 143, 144, 145 }, { 146, 147, 148 }, { 149 } },
        { { 158, 159, 160 }, { 161, 162, 163 }, { 164 } },
        { { 173, 174, 175 }, { 176, 177, 178 }, { 179 } }
    }
}

M.getTowerEnemies = function()
    return towerEnemies
end

--ARENA, create all stages here
local arena = {
    {
        name='Grassland',
        picture={
            type='stage',
            imageName='Grassland'
        },
        floors={
            { --Floor 1
                terrain=1,
                enemies={
                    level=10,
                    type='random',
                    terrain=1
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=100
                        }
                    }
                },
            },
            { --Floor 2
                terrain=1,
                enemies={
                    level=30,
                    type='random',
                    terrain=1
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=150
                        }
                    }
                },
            },
            { --Floor 3
                terrain=1,
                enemies={
                    level=50,
                    type='random',
                    terrain=1
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=200
                        }
                    }
                },
            },
            { --Floor 4
                terrain=1,
                enemies={
                    level=70,
                    type='random',
                    terrain=1
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=250
                        }
                    }
                },
            },
            { --Floor 5
                terrain=1,
                enemies={
                    level=90,
                    type='random',
                    terrain=1
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=300
                        }
                    }
                },
            }
        }
    },
    {
        name='Wasteland',
        picture={
            type='stage',
            imageName='Wasteland'
        },
        floors={
            { --Floor 1
                terrain=2,
                enemies={
                    level=10,
                    type='random',
                    terrain=2
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=100
                        }
                    }
                },
            },
            { --Floor 2
                terrain=2,
                enemies={
                    level=30,
                    type='random',
                    terrain=2
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=150
                        }
                    }
                },
            },
            { --Floor 3
                terrain=2,
                enemies={
                    level=50,
                    type='random',
                    terrain=2
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=200
                        }
                    }
                },
            },
            { --Floor 4
                terrain=2,
                enemies={
                    level=70,
                    type='random',
                    terrain=2
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=250
                        }
                    }
                },
            },
            { --Floor 5
                terrain=2,
                enemies={
                    level=90,
                    type='random',
                    terrain=2
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=300
                        }
                    }
                },
            }
        }
    },
    {
        name='Volcanic',
        picture={
            type='stage',
            imageName='Volcanic'
        },
        floors={
            { --Floor 1
                terrain=3,
                enemies={
                    level=10,
                    type='random',
                    terrain=3
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=100
                        }
                    }
                },
            },
            { --Floor 2
                terrain=3,
                enemies={
                    level=30,
                    type='random',
                    terrain=3
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=150
                        }
                    }
                },
            },
            { --Floor 3
                terrain=3,
                enemies={
                    level=50,
                    type='random',
                    terrain=3
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=200
                        }
                    }
                },
            },
            { --Floor 4
                terrain=3,
                enemies={
                    level=70,
                    type='random',
                    terrain=3
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=250
                        }
                    }
                },
            },
            { --Floor 5
                terrain=3,
                enemies={
                    level=90,
                    type='random',
                    terrain=3
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=300
                        }
                    }
                },
            }
        }
    },
    {
        name='Galvanic',
        picture={
            type='stage',
            imageName='Galvanic'
        },
        floors={
            { --Floor 1
                terrain=4,
                enemies={
                    level=10,
                    type='random',
                    terrain=4
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=100
                        }
                    }
                },
            },
            { --Floor 2
                terrain=4,
                enemies={
                    level=30,
                    type='random',
                    terrain=4
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=150
                        }
                    }
                },
            },
            { --Floor 3
                terrain=4,
                enemies={
                    level=50,
                    type='random',
                    terrain=4
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=200
                        }
                    }
                },
            },
            { --Floor 4
                terrain=4,
                enemies={
                    level=70,
                    type='random',
                    terrain=4
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=250
                        }
                    }
                },
            },
            { --Floor 5
                terrain=4,
                enemies={
                    level=90,
                    type='random',
                    terrain=4
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=300
                        }
                    }
                },
            }
        }
    },
    {
        name='Ice Cave',
        picture={
            type='stage',
            imageName='IceCave'
        },
        floors={
            { --Floor 1
                terrain=5,
                enemies={
                    level=10,
                    type='random',
                    terrain=5
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=100
                        }
                    }
                },
            },
            { --Floor 2
                terrain=5,
                enemies={
                    level=30,
                    type='random',
                    terrain=5
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=150
                        }
                    }
                },
            },
            { --Floor 3
                terrain=5,
                enemies={
                    level=50,
                    type='random',
                    terrain=5
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=200
                        }
                    }
                },
            },
            { --Floor 4
                terrain=5,
                enemies={
                    level=70,
                    type='random',
                    terrain=5
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=250
                        }
                    }
                },
            },
            { --Floor 5
                terrain=5,
                enemies={
                    level=90,
                    type='random',
                    terrain=5
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=300
                        }
                    }
                },
            }
        }
    },
    {
        name='Sea',
        picture={
            type='stage',
            imageName='Sea'
        },
        floors={
            { --Floor 1
                terrain=6,
                enemies={
                    level=10,
                    type='random',
                    terrain=6
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=100
                        }
                    }
                },
            },
            { --Floor 2
                terrain=6,
                enemies={
                    level=30,
                    type='random',
                    terrain=6
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=150
                        }
                    }
                },
            },
            { --Floor 3
                terrain=6,
                enemies={
                    level=50,
                    type='random',
                    terrain=6
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=200
                        }
                    }
                },
            },
            { --Floor 4
                terrain=6,
                enemies={
                    level=70,
                    type='random',
                    terrain=6
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=250
                        }
                    }
                },
            },
            { --Floor 5
                terrain=6,
                enemies={
                    level=90,
                    type='random',
                    terrain=6
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=300
                        }
                    }
                },
            }
        }
    },
    {
        name='Cave',
        picture={
            type='stage',
            imageName='Cave'
        },
        floors={
            { --Floor 1
                terrain=7,
                enemies={
                    level=10,
                    type='random',
                    terrain=7
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=100
                        }
                    }
                },
            },
            { --Floor 2
                terrain=7,
                enemies={
                    level=30,
                    type='random',
                    terrain=7
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=150
                        }
                    }
                },
            },
            { --Floor 3
                terrain=7,
                enemies={
                    level=50,
                    type='random',
                    terrain=7
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=200
                        }
                    }
                },
            },
            { --Floor 4
                terrain=7,
                enemies={
                    level=70,
                    type='random',
                    terrain=7
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=250
                        }
                    }
                },
            },
            { --Floor 5
                terrain=7,
                enemies={
                    level=90,
                    type='random',
                    terrain=7
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=300
                        }
                    }
                },
            }
        }
    },
    {
        name='Cliff',
        picture={
            type='stage',
            imageName='Cliff'
        },
        floors={
            { --Floor 1
                terrain=8,
                enemies={
                    level=10,
                    type='random',
                    terrain=8
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=100
                        }
                    }
                },
            },
            { --Floor 2
                terrain=8,
                enemies={
                    level=30,
                    type='random',
                    terrain=8
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=150
                        }
                    }
                },
            },
            { --Floor 3
                terrain=8,
                enemies={
                    level=50,
                    type='random',
                    terrain=8
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=200
                        }
                    }
                },
            },
            { --Floor 4
                terrain=8,
                enemies={
                    level=70,
                    type='random',
                    terrain=8
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=250
                        }
                    }
                },
            },
            { --Floor 5
                terrain=8,
                enemies={
                    level=90,
                    type='random',
                    terrain=8
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=300
                        }
                    }
                },
            }
        }
    },
    {
        name='Heaven',
        picture={
            type='stage',
            imageName='Heaven'
        },
        floors={
            { --Floor 1
                terrain=9,
                enemies={
                    level=10,
                    type='random',
                    terrain=9
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=100
                        }
                    }
                },
            },
            { --Floor 2
                terrain=9,
                enemies={
                    level=30,
                    type='random',
                    terrain=9
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=150
                        }
                    }
                },
            },
            { --Floor 3
                terrain=9,
                enemies={
                    level=50,
                    type='random',
                    terrain=9
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=200
                        }
                    }
                },
            },
            { --Floor 4
                terrain=9,
                enemies={
                    level=70,
                    type='random',
                    terrain=9
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=250
                        }
                    }
                },
            },
            { --Floor 5
                terrain=9,
                enemies={
                    level=90,
                    type='random',
                    terrain=9
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=300
                        }
                    }
                },
            }
        }
    },
    {
        name='Purgatory',
        picture={
            type='stage',
            imageName='Purgatory'
        },
        floors={
            { --Floor 1
                terrain=10,
                enemies={
                    level=10,
                    type='random',
                    terrain=10
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=100
                        }
                    }
                },
            },
            { --Floor 2
                terrain=10,
                enemies={
                    level=30,
                    type='random',
                    terrain=10
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=150
                        }
                    }
                },
            },
            { --Floor 3
                terrain=10,
                enemies={
                    level=50,
                    type='random',
                    terrain=10
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=200
                        }
                    }
                },
            },
            { --Floor 4
                terrain=10,
                enemies={
                    level=70,
                    type='random',
                    terrain=10
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=250
                        }
                    }
                },
            },
            { --Floor 5
                terrain=10,
                enemies={
                    level=90,
                    type='random',
                    terrain=10
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=300
                        }
                    }
                },
            }
        }
    },
    {
        name='Forest',
        picture={
            type='stage',
            imageName='Forest'
        },
        floors={
            { --Floor 1
                terrain=11,
                enemies={
                    level=10,
                    type='random',
                    terrain=11
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=100
                        }
                    }
                },
            },
            { --Floor 2
                terrain=11,
                enemies={
                    level=30,
                    type='random',
                    terrain=11
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=150
                        }
                    }
                },
            },
            { --Floor 3
                terrain=11,
                enemies={
                    level=50,
                    type='random',
                    terrain=11
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=200
                        }
                    }
                },
            },
            { --Floor 4
                terrain=11,
                enemies={
                    level=70,
                    type='random',
                    terrain=11
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=250
                        }
                    }
                },
            },
            { --Floor 5
                terrain=11,
                enemies={
                    level=90,
                    type='random',
                    terrain=11
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=300
                        }
                    }
                },
            }
        }
    },
    {
        name='Jungle',
        picture={
            type='stage',
            imageName='Jungle'
        },
        floors={
            { --Floor 1
                terrain=12,
                enemies={
                    level=10,
                    type='random',
                    terrain=12
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=100
                        }
                    }
                },
            },
            { --Floor 2
                terrain=12,
                enemies={
                    level=30,
                    type='random',
                    terrain=12
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=150
                        }
                    }
                },
            },
            { --Floor 3
                terrain=12,
                enemies={
                    level=50,
                    type='random',
                    terrain=12
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=200
                        }
                    }
                },
            },
            { --Floor 4
                terrain=12,
                enemies={
                    level=70,
                    type='random',
                    terrain=12
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=250
                        }
                    }
                },
            },
            { --Floor 5
                terrain=12,
                enemies={
                    level=90,
                    type='random',
                    terrain=12
                }, 
                rewards={
                    first={},
                    battle={},
                    general={
                        {
                            category=1,
                            id=16,
                            count=300
                        }
                    }
                },
            }
        }
    }
}

local arenaChallenges = {
    {
        id=1,
        text='Defeat all waves',
        required=3,
        type='result',
        condition=function(battleManager)
            local currentEnemies = battleManager.currentEnemies
            local allEnemiesDead = true
            for i = 1, #currentEnemies do
                if not currentEnemies[i]:isDead() then
                    allEnemiesDead = false
                    break
                end
            end
            return allEnemiesDead and 1 or nil
        end
    },
    {
        id=2,
        text='Attack an enemy\'s weak 5 times',
        required=5,
        type='result',
        condition=function(actingBattler, skill, target, result, battleManager)
            return result.isWeak and 1 or nil
        end
    },
    {
        id=3,
        text='Attack an enemy\'s resist 5 times',
        required=5,
        type='result',
        condition=function(actingBattler, skill, target, result, battleManager)
            return result.isResist and 1 or nil
        end
    },
    {
        id=4,
        text='Don\'t use any physical attacks',
        required=0,
        type='skill',
        operator='lessthan',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:type() == 1 and 1 or nil
        end
    },
    {
        id=5,
        text='Don\'t use any magical attacks',
        required=0,
        type='skill',
        operator='lessthan',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:type() == 2 and 1 or nil
        end
    },
    {
        id=6,
        text='Don\'t use any certain attacks',
        required=0,
        type='skill',
        operator='lessthan',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:type() == 3 and 1 or nil
        end
    },
    {
        id=7,
        text='Don\'t use any ultimate skills',
        required=0,
        type='skill',
        operator='lessthan',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:isHyper() and 1 or nil
        end
    },
    {
        id=8,
        text='Don\'t let any party member die',
        required=0,
        type='result',
        operator='lessthan',
        condition=function(actingBattler, skill, target, result, battleManager)
            return (target.isActor and target:isDead()) and 1 or nil
        end
    },
    {
        id=9,
        text='Defeat an enemy while it has a debuff',
        required=1,
        type='result',
        condition=function(actingBattler, skill, target, result, battleManager)
            if not target.isActor and target:isDead() then
                for k, v in pairs(target.debuffs) do
                    return 1
                end
                for i = 1, #target.statBuffs do
                    if target.statBuffs[i].value < 0 then
                        return 1
                    end
                end
            end
            return
        end
    },
    {
        id=10,
        text='Defeat an enemy with an actor that has a buff',
        required=1,
        type='result',
        condition=function(actingBattler, skill, target, result, battleManager)
            if not target.isActor and target:isDead() then
                for k, v in pairs(actingBattler.buffs) do
                    return 1
                end
                for i = 1, #actingBattler.statBuffs do
                    if actingBattler.statBuffs[i].value > 0 then
                        return 1
                    end
                end
            end
            return nil
        end
    }, --There might be a skew for element challenges, we should select random category
    {
        id=11,
        text='Perform a slash attack 8 times',
        required=8,
        type='skill',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:element() == 1 and 1 or nil
        end
    },
    {
        id=12,
        text='Perform a bash attack 8 times',
        required=8,
        type='skill',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:element() == 2 and 1 or nil
        end
    },
    {
        id=13,
        text='Perform a pierce attack 8 times',
        required=8,
        type='skill',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:element() == 3 and 1 or nil
        end
    },
    {
        id=14,
        text='Perform a fire attack 8 times',
        required=8,
        type='skill',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:element() == 4 and 1 or nil
        end
    },
    {
        id=15,
        text='Perform a thunder attack 8 times',
        required=8,
        type='skill',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:element() == 5 and 1 or nil
        end
    },
    {
        id=16,
        text='Perform a ice attack 8 times',
        required=8,
        type='skill',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:element() == 6 and 1 or nil
        end
    },
    {
        id=17,
        text='Perform a water attack 8 times',
        required=8,
        type='skill',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:element() == 7 and 1 or nil
        end
    },
    {
        id=18,
        text='Perform a earth attack 8 times',
        required=8,
        type='skill',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:element() == 8 and 1 or nil
        end
    },
    {
        id=19,
        text='Perform a wind attack 8 times',
        required=8,
        type='skill',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:element() == 9 and 1 or nil
        end
    },
    {
        id=20,
        text='Perform a light attack 8 times',
        required=8,
        type='skill',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:element() == 10 and 1 or nil
        end
    },
    {
        id=21,
        text='Perform a dark attack 8 times',
        required=8,
        type='skill',
        condition=function(actingBattler, skill, target, result, battleManager)
            return skill:element() == 11 and 1 or nil
        end
    },
    {
        id=22,
        text='Apply a buff to an ally 6 times',
        required=6,
        type='skill',
        condition=function(actingBattler, skill, target, result, battleManager)
            local count = 0
            local buffs = skill:buffs()
            if buffs then
                count = count + #buffs
            end
            local statBuffs = skill:statBuffs()
            if statBuffs then
                for i = 1, #statBuffs do
                    if statBuffs[i].value > 0 then
                        count = count + 1
                    end
                end
            end
            return count
        end
    }
}

M.getArenaStages = function()
    return arena
end

M.getArenaChallenges = function()
    return arenaChallenges
end

--Require save

--Initalize stuff
M.initializeTower = function(towerSave)
    --Load save and update enemy ids
    towerSave = towerSave or MAIN.SYSTEM.SAVE.getSave().tower

    for i = 1, #towerSave do
        for j = 1, #towerSave[i] do
            quests.tower[i].floors[j].enemies.waves = towerSave[i][j]
        end
    end
end

M.initializeArena = function(arenaSave)
    --From save, get arena ids and load corresponding stages
    arenaSave = arenaSave or MAIN.SYSTEM.SAVE.getSave().arena

    --some bug where arenaSave is nil when first start game
    if arenaSave then
        local arenaStages = {}
        for i = 1, #arenaSave.stageIds do
            arenaStages[i] = arena[arenaSave.stageIds[i]]
        end

        quests.arena = arenaStages
    end
end

M.initializeQuests = function()
    --load quests from save
    quests.event = MAIN.DATA.EVENT.getQuest()

    M.initializeTower()

    M.initializeArena()
end

return M